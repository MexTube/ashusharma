<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML Video Player with Quality and Language Control</title>
    <link rel="stylesheet" href="https://ashusharma.uk.to/video-js.css/">
    <script src="https://ashusharma.uk.to/video.min.js/"></script>
    <style>
        .video-quality-menu,
        .video-language-menu {
            display: none;
            position: absolute;
            background-color: #fff;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            z-index: 999;
        }
        .video-source-input {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <video id="my-video" class="video-js" controls preload="auto" width="640" height="360" data-setup='{}' autoplay>
        <!-- Initial source, can be replaced by user input -->
        <source src="" type="video/mp4">
        <track kind="subtitles" src="MoviezVerse.in-[English]" srclang="en" label="English">
        <track kind="subtitles" src="spanish.vtt" srclang="es" label="Spanish">
        <track kind="subtitles" src="hindi.vtt" srclang="hi" label="Hindi">
        <p class="vjs-no-js">
            To view this video please enable JavaScript, and consider upgrading to a
            web browser that
            <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
        </p>
    </video>

    <div class="video-quality-menu">
        <label for="quality-select">Select Quality:</label>
        <select id="quality-select">
            <option value="360">360p</option>
            <option value="720">720p</option>
            <option value="1080">1080p</option>
        </select>
    </div>

    <div class="video-language-menu">
        <label for="language-select">Select Language:</label>
        <select id="language-select">
            <option value="en">English</option>
            <option value="es">Spanish</option>
            <option value="hi">Hindi</option>
        </select>
    </div>

    <div class="video-source-input">
        <label for="video-source">Video Source:</label>
        <input type="text" id="video-source" placeholder="Enter video source URL">
        <button id="load-video-btn">Load Video</button>
    </div>

    <script>
        // Initialize the video player
        var player = videojs('my-video');
    
        // Add quality control button
        document.querySelector('.vjs-fullscreen-control').insertAdjacentHTML('beforebegin', '<button class="vjs-button quality-control-button" aria-disabled="false" type="button" title="Quality" aria-label="Quality"><span aria-hidden="true">‚öôÔ∏è</span></button>');
        var qualityButton = document.querySelector('.quality-control-button');
        var qualityMenu = document.querySelector('.video-quality-menu');
        qualityButton.addEventListener('click', function () {
            toggleQualityMenu();
        });
    
        // Add language control button
        document.querySelector('.vjs-fullscreen-control').insertAdjacentHTML('beforebegin', '<button class="vjs-button language-control-button" aria-disabled="false" type="button" title="Language" aria-label="Language"><span aria-hidden="true">üåê</span></button>');
        var languageButton = document.querySelector('.language-control-button');
        var languageMenu = document.querySelector('.video-language-menu');
        languageButton.addEventListener('click', function () {
            toggleLanguageMenu();
        });
    
        function toggleQualityMenu() {
            if (qualityMenu.style.display === 'block') {
                qualityMenu.style.display = 'none';
            } else {
                qualityMenu.style.display = 'block';
            }
            // Close language menu if open
            languageMenu.style.display = 'none';
        }
    
        function toggleLanguageMenu() {
            if (languageMenu.style.display === 'block') {
                languageMenu.style.display = 'none';
            } else {
                languageMenu.style.display = 'block';
            }
            // Close quality menu if open
            qualityMenu.style.display = 'none';
        }
    
        var qualitySelect = document.getElementById('quality-select');
        qualitySelect.addEventListener('change', function () {
            var selectedQuality = this.value;
            // Implement logic to change video quality based on the selected option
            // For example:
            // player.src('example_' + selectedQuality + '.mp4');
            toggleQualityMenu();
        });
    
        var languageSelect = document.getElementById('language-select');
        languageSelect.addEventListener('change', function () {
            var selectedLanguage = this.value;
            var tracks = player.textTracks();
            for (var i = 0; i < tracks.length; i++) {
                var track = tracks[i];
                if (track.language === selectedLanguage) {
                    track.mode = 'showing';
                } else {
                    track.mode = 'hidden';
                }
            }
            toggleLanguageMenu();
        });
    
        // Load video from user input
        var loadVideoBtn = document.getElementById('load-video-btn');
        loadVideoBtn.addEventListener('click', function () {
            var videoSourceInput = document.getElementById('video-source').value;
            // Set video source
            player.src({
                src: videoSourceInput,
                type: 'video/mp4'
            });
            // Reset source input field
            document.getElementById('video-source').value = '';
            // Play the video
            player.play();
        });
    </script>
    
</body>
</html>
